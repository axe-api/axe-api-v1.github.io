import{_ as s,c as a,o as i,a9 as n}from"./chunks/framework.DgZLXPSQ.js";const g=JSON.parse('{"title":"Database Configs","description":"","frontmatter":{},"headers":[],"relativePath":"reference/database-configs.md","filePath":"reference/database-configs.md"}'),e={name:"reference/database-configs.md"},t=n(`<h1 id="database-configs" tabindex="-1">Database Configs <a class="header-anchor" href="#database-configs" aria-label="Permalink to &quot;Database Configs&quot;">​</a></h1><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Axe API uses <a href="https://knexjs.org/guide" target="_blank" rel="noreferrer">knex.js</a> for database operations. All of the database configurations are the same as <a href="https://knexjs.org/guide/#configuration-options" target="_blank" rel="noreferrer">the original documentation</a>.</p></div><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-rI4-S" id="tab-9_AWZGW" checked><label for="tab-9_AWZGW">app/config.ts</label></div><div class="blocks"><div class="language-ts vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { LogLevels, IApplicationConfig } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;axe-api&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IApplicationConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  database: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    client: process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DB_CLIENT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;mysql&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    connection: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      host: process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DB_HOST</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;localhost&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      user: process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DB_USER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      password: process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DB_PASSWORD</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      database: process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DB_DATABASE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;database&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      port: process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DB_PORT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseInt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DB_PORT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3306</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    pool: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      min: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      max: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    migrations: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      tableName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;knex_migrations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config;</span></span></code></pre></div></div></div><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>Check the <a href="https://knexjs.org/guide/#configuration-options" target="_blank" rel="noreferrer">Knex.js Configuration Options</a> if you have any connection issues.</p></div><h2 id="client" tabindex="-1"><code>client</code> <a class="header-anchor" href="#client" aria-label="Permalink to &quot;\`client\`&quot;">​</a></h2><p><code>client</code> means which database you are using. Axe API supports all database that is supported by Knex.js;</p><ul><li>PostgreSQL: <code>pg</code></li><li>CockroachDB: <code>pg</code></li><li>MSSQL: <code>tedious</code></li><li>MySQL: <code>mysql</code></li><li>MariaDB: <code>mysql</code></li><li>SQLite3: <code>sqlite3</code></li><li>Better-SQLite3: <code>better-sqlite3</code></li><li>Oracle: <code>oracledb</code></li><li>Amazon Redshift: <code>pg</code></li></ul><h2 id="connection" tabindex="-1"><code>connection</code> <a class="header-anchor" href="#connection" aria-label="Permalink to &quot;\`connection\`&quot;">​</a></h2><p>Connection parameters could be different by the database client. You can check the correct value via Knex.js&#39; documentation.</p><h3 id="connection-host" tabindex="-1"><code>connection.host</code> <a class="header-anchor" href="#connection-host" aria-label="Permalink to &quot;\`connection.host\`&quot;">​</a></h3><p>The database host. For example; <code>127.0.0.1</code> or <code>localhost</code></p><h3 id="connection-user" tabindex="-1"><code>connection.user</code> <a class="header-anchor" href="#connection-user" aria-label="Permalink to &quot;\`connection.user\`&quot;">​</a></h3><p>The database connection user. For example; <code>root</code></p><h3 id="connection-password" tabindex="-1"><code>connection.password</code> <a class="header-anchor" href="#connection-password" aria-label="Permalink to &quot;\`connection.password\`&quot;">​</a></h3><p>The database user password.</p><h3 id="connection-database" tabindex="-1"><code>connection.database</code> <a class="header-anchor" href="#connection-database" aria-label="Permalink to &quot;\`connection.database\`&quot;">​</a></h3><p>The database schema name.</p><h3 id="connection-port" tabindex="-1"><code>connection.port</code> <a class="header-anchor" href="#connection-port" aria-label="Permalink to &quot;\`connection.port\`&quot;">​</a></h3><p>The database port. For example; <code>3306</code></p><h2 id="pool" tabindex="-1"><code>pool</code> <a class="header-anchor" href="#pool" aria-label="Permalink to &quot;\`pool\`&quot;">​</a></h2><p>The connection pool setting.</p><h2 id="migrations" tabindex="-1"><code>migrations</code> <a class="header-anchor" href="#migrations" aria-label="Permalink to &quot;\`migrations\`&quot;">​</a></h2><p>In this section, you can decide all migration settings.</p>`,23),l=[t];function o(h,p,c,r,k,d){return i(),a("div",null,l)}const u=s(e,[["render",o]]);export{g as __pageData,u as default};
